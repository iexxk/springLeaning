package com.exxk.netty;


import com.google.gson.JsonObject;
import com.google.gson.JsonParser;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.junit4.SpringRunner;

import javax.xml.bind.DatatypeConverter;
import java.io.FileOutputStream;

@RunWith(SpringRunner.class)
@SpringBootTest
public class NettyApplicationTests {
    private final Logger log = LoggerFactory.getLogger(NettyApplicationTests.class);
    String bytestr="43617074757265007E010000970100007B22646576696365734964223A223738434138333430303537433030303030303030222C22766964656F4E6F223A332C226368616E6E656C4E616D65223A2274657374323330222C22747261636B4964223A31363231302C22656E74657254696D657374616D70223A302C22636174636854696D657374616D70223A313536313334333739343631352C226C6561766554696D657374616D70223A302C226661636541747472223A7B22616765223A32332C2267656E646572223A302C226D696E6F72697479223A66616C73652C226C6566744579656F6363223A747275652C2272696768744579656F6363223A747275652C226D6F7574686F6363223A66616C73652C226865616477656172223A322C226E6F73656F6363223A66616C73652C226265617264223A302C226C656674457965436C6F7365223A66616C73652C227269676874457965436C6F7365223A66616C73652C226D6F757468537461747573223A66616C73657D2C226361707475726546616365223A373333367DFFD8FFE000104A46494600010100000100010000FFDB00C5000302020302020303030304030304050805050404050A070706080C0A0C0C0B0A0B0B0D0E12100D0E110E0B0B1016101113141515150C0F1718161418121415140103040405040509050509140D0B0D14141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414140203040405040509050509140D0B0D1414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414FFC000110800C000C003012200021101031102FFC401A20000010501010101010100000000000000000102030405060708090A0B100002010303020403050504040000017D01020300041105122131410613516107227114328191A1082342B1C11552D1F02433627282090A161718191A25262728292A3435363738393A434445464748494A535455565758595A636465666768696A737475767778797A838485868788898A92939495969798999AA2A3A4A5A6A7A8A9AAB2B3B4B5B6B7B8B9BAC2C3C4C5C6C7C8C9CAD2D3D4D5D6D7D8D9DAE1E2E3E4E5E6E7E8E9EAF1F2F3F4F5F6F7F8F9FA0100030101010101010101010000000000000102030405060708090A0B1100020102040403040705040400010277000102031104052131061241510761711322328108144291A1B1C109233352F0156272D10A162434E125F11718191A262728292A35363738393A434445464748494A535455565758595A636465666768696A737475767778797A82838485868788898A92939495969798999AA2A3A4A5A6A7A8A9AAB2B3B4B5B6B7B8B9BAC2C3C4C5C6C7C8C9CAD2D3D4D5D6D7D8D9DAE2E3E4E5E6E7E8E9EAF2F3F4F5F6F7F8F9FAFFDD00040000FFDA000C03010002110311003F00F82D9802075A538007AD44C762824D3B25403EB5C20C710073D6A658760C939A8E319AB68B95EA2815C66D017342F7A74E7083B5360CBAB718C7AD31A2592E16D2DB713D0571DACEA46E2427D6B635CB968E25507A8E706B91B99CB12056B145A2B4D3924D41BCD2B939E6A3ADD1429978C669D19A604C9E9520435403C37A52AF5C9A6EDE29B9A405C5700504961C139AA9939EB53C726075A4C07C6AC73BAA42422E7BD3448299238A901EB3924115A7A6DD18E7539C77CD62893D2A449D89009C76A7603D66C6E7ED76A8D904E2BE9CFD9B133F0C2E063A5F3FF215F25782AE3CD89A363C28E2BEB8FD998EFF008737AB9E57517C8FF808ACE1BB39E5A1E833C5B862B3E587AE3B56D4C98CD519A3EB5DA8C8F812E146E4F614E71FB94E39CD1382C57E94F753E52D79A750E854919ABB10CAE2A0B442C82AEC30EECF6A822E56B94055452D826F69013C6D352DF47E5AA03DFBD269684C931EC109A77B05CE2B59BAF3252BE8706B11932485AD2D59C9B87E98C9FE75DB7C3FF06A5DC0F7570BB81036861D2B5E6E58F333AA941D4764799496E57AD45E59AF779BE18DA6A0C42AE0B7A0C525EFC0C486DB72839F514471117B9D0F0D33C42DE1C9E6AC2DB8CF4AE935EF07DC68770CA50B267835420D1AEAECED8E263F8574292B5D1CEE9CD3B18EF1609AAFE4B12702BABFF844AEF8DF1B03F4AB76BE0CB893AA9FC052E68F71AA129338916EC49E3353476AC074C57A0C1F0FE6241DB81F4AD04F01845CB8CFE1593AD14742C348F2D92175E7150B122BD075BF087D9A22C148F4AE1EEAD8A4AC3D2AE125230A94DC1948E714231045295DA6953922B5313BAF00A992F1C1271B738AFB13F65FCFFC21BAC4647DDBFC8FC5457C77F0F6DDA4D4F3B8E150FCB5F61FECC327FC53DAFC64F4BB461FF7CD6515AB309F53D5E58B9355258F35A722E4D5595715DA8C133F3CE4EAA07271D2A59B788549438AF48B5F883E19D371F67D103B018064814FF3A8AEFE2458CA53CCD0E3923231B515141FA8C5791777B58E8E6387B24DE9C76AD286060BC8C5757FF099D85FC67CBF0D5A42473927AFE5D2A53E22B16042F87AD509FE23339C54B7D0CEE717A9C6408011D4E2A4D022496EE48F190C8DD455FF00105D473DEE98EB0A42865C145391EF50E898FEDA9768C0C3E00A97F0B1FD9679B4D61F6AD57ECC38DCF8CFA57D09E1DD0D6D347B589470A83B578CE95081E298B70CE6415F48E916AB2C118C606051886D45247D06063A5C6E83A5096ED54AFCA2BA9D434CF302A9036E3B54FA3E95E5302A39AD37D3DB76E20E4F15C0CF69451E57E23F055B6A332874C8CF402ABD9FC3FB6826DAB18C9E9C57A5DC688C66560B9FA8A9A1D099EE55D53915BC66D46D721D38BD4F3FBAF04C423DA6119F515563F07A41CF97902BD5CE82F29C08896CD3BFE11A740C5E3DA2B2737B14A9A3CABFE11DF97E5880FC2AB4BA03723CBEDD715EA92695147B8EDAC9BCB354278E2B27276B9B722B1E2FE30D27658B80992A2BC4355B2613C9F2F24D7D23E3789604627A1EDEB5E1BAE5A0595C818E735E861A5A1E0E2E29338596023208C1A892121866BA19AD1483C566CD6DB5B02BD44EC79076DF0DEDC7DAE57519F9306BEB0FD987FE41BE2151DA78C9FF00BE6BE67F85F69FF12FB8931C1EF5F4EFECC48160F120FF006E33FA567177933966CF61615567157E5039AA92AF15DA8C11F9F3711602F1D454D709B562C739152DD42CAB0923AA039A7DF406316F9CE0C7915E55E4DEE6D7F234B428B743213EB5B9169DBB7719C550F0BC5E65BC848C8CD74B6F1E1BDAB392D4C9CACEC721AEED5934F231B572FD3DF15178557CEF11EDECC8E79A7EB5F2A5967FBAC3FF001E34DF088CF89931DE371FA5297C2CD53BC598FA369ED7FE38F2D40FDDC993B7A000D7D21E19B413322938E3007BD78AF80E316DABF88AF1903490210B91D4E6AADAF8F75DD2EEBEDF99000D9118CED144E0EAB5147D0E166A9C55CFB0749D0DD7696C83E98ADE1A142EA338CD7CCFE15FDA8D9E511DF93111C65B819AF4AD33E325B6AA9E64572ADDF19C571CE85483B33D78D68CB63D265D0234E49FA6296D74D8A1972E303DEB8B8BE232C983E6AE3D09AAFA87C4789570D3AAFD39A95096C6EDAB5CF5DB082CDC7CA14B0AC7F105934BBBCA1803B0AF18D4BE3F69BE1E8373DC207CE319E4D715AC7ED44DA82B2DA4A550F00F4AA5879CDE860EB451ED9756AE84AB003F1AE72F8673EB5E5BA3FC69BA31FEFE61303D49E6BB0D1BC5F6DADA1D8E37E391535284A08A85652303C776135DC07C8E0E0FE35E1DAC5B3C6EE928C3AFA8AFA4EE505C1618DC08C62BCA7E28F8785B5AFDB235031C371D6AA84ACF959C78BA7CF1BA3C8264014D66CE996CD6ACEE0AD66DC1EB8EB5ED23E7A51B1EA3F0C171A04E71C07C57D1FF00B362EC97C4080632A8DFAD786F8074F48FC21000BB59FE627D6BDD7F6771E4EADAD2766810FEB5952F899C13D99EBB313BAABBD4F31F98FD6A07E735E890B63E0AD4C855B65EC6206A4D7098FEC40823F7208FCE9DADA056B3F7801A93C4A0F9D6687F8205FD79AF251B235BC192030DC03D38E6B75B5082C9373E48CF5519AC5F0328315D023AE2A5BADDE4673DC8A6E372392F2BB295EDB25F9886701431FCCE6974AB34D22F85DAB7CC14AF3D306A4B7197C0EB8A8B5CB196FB4ABA82DCED91970A49EF4B974B1AF2AD8D5D1358D2243ADB40CB1492051F5359A35BB2827F2258BCC07A83D2B5BE1F7C2B8AEBC2163AA4FAB04D444B86B00BC9C773ED599E2DF0B4AD7A58B1431E400A315A4A9C54B7DCF5E9BE6568F430BC51A76857EA1E34585C8E8BEB5CBD969D77632A359DF3AC67A8DC783E95646937C753311DCF09EF8E95D2E85A35C5E09224B1C150496C13D3BD274DC35BE874415F4B1D278624D42E6CD83EE72300383D6B07C5D16AEB3B207991075C1E2BD3BE13EB9A9269A45B78546ABB5B1F2B80463D6AA6AC758F88D3EA91C9A4A681F64976B404E5F3FE15CBEF2A8DDB43B9C5F2D8F063E1E6B998B5D5C17E7F89ABB3D1FC2DA3DB5A2B3A24A7D49C8ACEF14785B54D266F2D6166039DDEB58FA149A99D47CA9609163E776EC8AEA4A53574CE37EE3B5AE75F3BE9D6E762A2C7C71815A9E1D263951EDE4C367A8358D63E1DBBD727318836A7F7D87F2ABBAAC90FC29BFB27D51DA5B798F0A83935365F0DF5368F767B5E896EF730AB30E4F3CD739F146DE04D16E04AEA8361E4D72707C5FD63C4B2358F8474691863FE3E6E176A28F5AC4D47C07E25F1549236B5AD10B9FF00531676E6B8151E5A9CD2762A53734E314793CF760CBB101724E062B6BC27E03D67C69AB416B6966E226701E66185515BBA5F836DF46F10832B79E90B6707BD7AA0F175CC36AB6DA485B68C8C1689467F4AED9D79417EEF530A183F692F7CE85FC2DA2786B495D3D35A865D5621836AA4139F4AEC3E02031EBFA9A9EF6E3FF42AF0BD3740169E2AB7B9937191D8BB339C927D6BDE3E09F1E23D43FEBDFF00AD561F7BB67366B82861A2A503D5E6FBE7EA6A16A924FBD51B7515EA9F3A7C37E258022E9CCBDECD09CFAD47E2119D4947610C7FFA08AB9E2B808B7D308E9F635C543E2780A6AD1E3EE9B688FE3B457968D137CC6C7805034972BFDD8CB53DC6DB1476C10EC71EDCD2F809024F747FE98B7F2A7CF16749B6F673FAD24F53486B7B94EDD156E01F5E2A662BBCF38E71F8D402326588862BB1F77D7DAAADD5BE3521299480AFBDE31D09C71576D4E9847991EA9E05D315ADE07180A3F0EF5DE6BBE15D3F5BB60F8459C28F9877AF36F066A4174F50ED939208AEA44CB30CACACA7D03573D476763DEC3534E2999B2781AD83954B742FEA055CD4742B4F0EF856ECAE23B9950A86039C915A3657CD684B33EF5F7AC7BA825F17F88ED6C55C884C819F1D00A9BB6ACCEC51D4EBFF00674F869A969DE195BBB8B920BE5C2FD4F19AF34BC5D52CBE2D5E09E7F9279B7B1E8245E95F527862F2DBC39A4C967B942EDDAA0FA578CFC55F0D8D5035F69E156E6DDCC88CBD4F7C567ED57B46D9B3BDACCD0D6BC19A7EB56DBD42F9857A815C21F872B15C959610C07F10156BC3DF136E6E224827851658C6D6643D48AE917C591CE3E68B9F5CD36E51F84CA3149EA88348F065AD92AF9239EE3155B59F01E95E20F135A36AB6915CC30464849064035AEBE30B6B51B22B7DCDFDE738ACCD47C48AF24B7076891861467A0AC1DD7BC0D2910788EEAC740B75B7D32DE2B50C0A8F2940AE4564F2A0F98F38E4D417DA81BA9CBBB64D656A1A816428A6A5479B5645B974461C7A7A6A7AA5E65F685E73599A469F79A5EA4D19919E366E3239AD8D2B4FBBBAD43CB847EF256C703B57AD786BE1FAD9CF1DD5EEC608371DE3A5762928A3B30B6BDE47349A53218EE5D31F200335DDFC16936F896E87F7E03FCEB3BC477D0DECAC90201147C6E1DEB43E110F2BC4F27BC2D5BD0DCF9DCEB10AAD454E0F447AD4AD8635116C9A748724FD6A32706BD53E70F8D7C5AA0A692BD8DA28AA7E2924EAE83B2C31AFE4B5A5E244DF2E8E0F5FB1C5C7D6A8F88947F6A4EA7AA903F415E6E9D0D20D37A1A3E071FE93723FE983FF002AB522674A8C9EDD2A2F00283AA5C0EDF677FE5565541D271536D4B8AD4C7998B9238D8A9BB70E4EE1DAA9BEE9358B46499443321051BAE69F6C563F3D0A959720B3FF00781E2A08AE607D66D237741B242BF39C03DAB48BEE75C6FB24753E0F903C739E4012154CF4200ED5D9D94DB8FDEED5C0784CA34F731ABFFC7B48F1F3C64F5FEB5D9D8CBFBC073C571D4F89B3DFC34B646F244F2AED00F35CBF8EB5ABEF87BA2BDD594265BB94E176FA5777A33C4EC85D805F7A83E210D26F2C13ED3247B17FBD5CFED5F3688EF96C7915AFC72F134961B9EDA55931EB91563C13F1FB5092F26B7D6ECDD564CED720E3F9D6D5B697A3DEEC90EA9690C00F2B919FCAAE37837C29AECA3ECD2A4DB3F8D4ED3F95539C5FD8217A99967149ACEA935ED94452073BBE51C0F5C56E46668C60E4115E89A4699A7D8E8F1595B4291469CF1DEB9CD66CE286660A38A875537CA8E87A9CB5D5FBE39278EF59B73A8338201356352915495078158F23A9CF3569DCE77A31B24CD83CF5AAA5B71A96439155269022F3D695BB19BDAE6BF85F53934ED5A1B816B2CF1A9C128B9AF47BDF16DC6B9098D6330438C63A31FAD73FE14B4FB2E8D1E47CCDCD692A9DD9EF5AD9753C0AF994F5853FBC1623F6798772BD6B7FE167CBE2507D6361FA5656DFDDB8C7F0D6C7C39509E24873DD587E95D549F43C472726DB3D45DBE6FC698C79A476F98FD699BB22BD45B0CF8DDEEE6B8962324024118081BB802A4D7644BEBF9EE111956439191ED5A17BA51B436D87CF9F187000E9ED4CB9B092DA431CD8DC2BE6954A94D7BCB43894E74DD9A27F87D1FF00C4DE51D33038FD2A5D422B88745436E9E665FE7CF6156BC0CA8FE2008BDE2707F2A75E3795E1C9999B695EE3B735DEA5CD1D0F420DB3878FCD178B2492808A76B26DEDEFF4A478E07F10C30DCC0B2A4126E8DD4637B6322A76B75BA8E796371E7CE420DDC0CF4AA525C7D8F538A73246D24369239C74561C035AAD51EAD26D3BD8E8B41DF65A5EA973902596E19C023A1FE1AE96DAEA4445F3480C40AE5B4796EF4FB8956E20B8BE58AD9279D6DA20DB0B67EF1AD89AFBFB4163F299157C95976E72C093D0D73D45A1D745B83D59ADA8F8A86916E19DF08064D792F8EFE25C9AF5C148E46581780077AECAFC8BF630C9C81C1A8EDB46F0CDACE915DDB28120C333735952E583D4F5629D57B9C2F86BC3F73AF6926F5AE0C615B1B18D58BE9751F095C2345745D461B2A3A57B2D8785BC156F6E07DB7F76064046E9517882CFC0361A70669A49E5390109CA9FAF35D97B4AF63B9E0E76E7534731E19F8EF1B5B84D4098E45180EA386FC2BA4B4F1E45AD1251C3A91C1CD70175A778735E90C765626300E0906A4B5D0A3F0FCE7C8DD1C64640639AE2A8A1CD74AC6137283DCEAB55B9524B66B29AE029CE7AD51BAD44CAC466A9497A0753D2B148C6535D4D87BA005374E8BFB53518A21CE1B26B9AB8D58EEC2735D8780888EE95DCF2D5BC63DCF3F1151AA6DC4F4D8221144A807CA00A48C1DE40A997E64047B535576B926A8F91D7A9220CAB7FBB5A9E026D9E21B76FF787E959B1F423FD9ABBE10473ABDBF9642B097BFA77ADA96E347A6BB658D349C535C8DC7D334C2D5EB2D8D0F9C755B7C4DA4A9C286B75396E06326B2EEAFECEF7559A2F386D5CE5F3C71DAB2AFA5BDF197D8E6BE0D696D6F08861B65E188CE724D56F12C29A37D82155DBB9BE63DF18E2BE5E78D4D3E55739A53BBD11D5F84EC8DC6BD6EB6CC2390E406FC3BD58BA8C368D70AF189319CAFAE2B23C2FABB683AADBDE14F3A34392BEA0F5ADE8E78AE74C95D5B7649241EBC9AD30D8A8D5765B9B42699C15CDB490CC0C3862C01587A64FA035CDCB284D5E2B436DF67D404E2268DDB7655B18C9EFCD7697059D988C6E56DA0572DE3BD23CA874DD411BECD29BA11927BE471FAD77A9D99F4146DA46FB9ADA36B3696771A845A9EA6F6F2CF7C6331A82448ABEF8E9ED5B93DF45A92DC5D6990978222ADF688E32A7AF2307B7E14BE0ED36E2C63B0B7DC08B4FDF65F07F78C707AF6AD3F10EAF0593DAFDA02473CA3CAF261C31072792074151295D9329DA565A86B7A0ECB682E605D8DB32EBEBEF5CFDD5A2EA10B291BB3C71D6BB3D4F516B8B711221D98EA6B89BF965D3A52EA4EDCE715C8F5763D1A1CD157673179E0ED4109F26E5B683C2B1355A0F076A12CE9E6485C67A75AE82E7C670A28DE391D69B6BE3AB78DB2AC81BDCD6EA552C75FB5F3373C3FE1C3A3C4CCE017352EA4B95666FC2B2A4F887098C972BC7A573BAA78CCDD64444F35CEE136F514AA26AE8B57F791C19F9B9AC57BD699B824826A8F9B35FB658E735B165622354C819ADA31E5DCC24F9B70B2B42D82DEB5DB787E4F2658C678DE2B06DA003803AD69D9930CEA474AAE633942F16BB9ED280F963D78A8DB9723DEB81D53C73AE78720FB749A60BED280F99A0E5D3D49AE97C1FE34D37C6D6AB7562F8393BE27FBC9F5A695D5D1F29529CA9B7CC8E8913827DAAD785729A9467FE9A54712F18F506A7F0EAE352894707CCADA9EE628F402DD6984E2918FCC69A5ABD55B1B1F20C1E3382C67B673179D1C122C980D8DDB4E714BE29D6A1F18E9D26A712ADB4A9705FECED202C01EB5CE6AF69A3697ACAE9F6BAA45AD04389A5B704203DF693D6B22F6782CA62D026DF6CE6BE1A14D422D1C715D8F44D22FE187435B99DB0A0E0E6BA7D2A48BE756655475C825801FAD78FB6AE2F34330C07F792B60A1E800A6659C2EF63C0C72D902B9E850953AAA698456ECF4EB958A4BACDB98A460C3761BA0CF3597F166012E91630AC88245B84988CF402B817D7C692C4C12ED6DB8214D73DABF896F35366692562C7B935F6987A4EA2D558F46355A4AC769E2DF1EC1733F93607170709F68048C0FEB5E93E15F0547A6DB477972E6EAFA502469DCF3C8AF9A7CF11B890F24106BEB7F056A907897C29A7DDC4EB97840651D9875159E328A843DD47A7826A6DA9115C41C573FAC58AC91B6466BACBA5D991E95857A879CF4AF2227B6F447986B7A1A3B16C115CC5DE8C62E54E6BD2B56837EE047D2B9ABEB7CA9016BB29C998B48E34DB49D09AB3696B9719AD592CBBE2962B731B03835AB93E866932D595AF2BC56FC56E0201542C62DC4135B10C649AC1BD753443E18F68A9D17E714918FCEAFDADBEF6048A8D8A4AE753E13D40947B6980781F82AE3208AF11F185DBF80FE226A2FA44CD6D1B3EE31C6700647A57B2E9F17D9C193A6057CF7F107518F56F15DF5D44C5D59B193EA38ADF071BD7D754706360B90F55F03FED05B665B7D6E23B02E16589725BD88F5AF4BF0678DE7F16EB2A34C4B7B2B6561BA5BC976BF3E8B5F2042DB64047515A90DEB860C24607D41AF62AE0D54929537CB6E87CE4E16D8FD1248FCB001944ADDD97A1A71C28CB10AA3A93D057CBDF083E3668BE07D363B3BCB4BC9E6908F36E5E62CABCFF000AE7815B1F133E324BE3B47D2B4267B5D1B77EF253F2CB37B71D0572D5AAF0E9CAAEC84A7DCF2DB0F87B7DFEBAD4C01620CF712BFCBF28E9B47735CC69FA75ADE7DA26D47507B41E7954454C96519E7F1AE8BC45E3A7922D96F85E7EF76C57077176D700EE627272735C7430152A2E6968654EE6B7DBECEC82984313D30FD6A8DDEB934EA557083DAB34D267DABD9A783A54ECD2BB36514849262C724E49A899BD7A52B75A6B0CE6BB6DD8B4336EE247506BD07E10FC406F0AEA5F62B97636531C019E14D79F85C522E6270C1B6907208F5AC6AD2538B4CE9A551C25747D8D3B0B9459A33B91D43023B8AC7BD5DAA722BCE3E18FC55491174DD52524F4499CF4F415EB3E525CA6576BAF5DC3915F2F3A2E94ACCFA7A535563B9C4EA116EC9DA73ED585716658F2A457A5BE9B130E50552BAD02361B9303EB5319246DECD9E6D269F8EA0E285B1DC3EED7747C39BCF406A48FC3040E80568990E07276169B54E47D2AF476C40C815D3C7E1F0A067F95588B45453C8C8A24EE2E4399B5B4676FBB5BB63A716C002B5ADF4C42E02A8E6AAF8CBC45A7780B4B33DD4E82E187C90A9F98FE159B4E4F4DC72B415D9CD7C4BF1345E13D0A4895C7DAE618503AD7CEAAEF36647392C735A5E2BF13DCF8C7599AF2624479C46A7B0ACE5F914015EFE0E83846F2DCF03155FDA3B21D18F9855A4AAC8D8353ACA0115E9A563CC96BA17A09826056BE99AC1B12C41EB5CF7998E69C26A274E35172CB54656B904B33C99DC6A33D29CDDE900C9A6683474A5A5C014B8A0088AFCC294C752628A0085938A8CA605586A85B39A963201BA33B94953D88AF48F027C65BAD07CBB5D490DCDA8E370EAA2BCE9C1FC2A2936EDE6B9EB538CD5A48EAA75A50F84FAF740F10697E27B549EC2EA39491929BBE65FA8AD19AD8EDCE3815F18D8DFDE695379D6573241203C323115DBE89F1BBC4DA52471CB3ADE4687A4A39C7D6BC6960D2F84F6E963D5AD23E938A11BB04548170715E230FED1CE5879FA4E0E3AA3E2B413F68FB0DA77695367030430CE6B1786A9D0EE58BA525B9EC28A5BB7E953790A80348C117B93D2BC22FBF690BF9212B63A6C7036301E43BBF4AE17C4DF123C43E2D1B2F6F5D613FF2CA13B16B5860EA3F8B430A98DA715A1EE1F10BE3368FE11592D349C6A5A985FBCA7E48CFF5AF9DF59D7351F125EBDDDFCCF3CAE493B8F03E9549630393C9F7AB0A3A57A74B0B1A7ABDCF1AB62E55188836AE29D47BD28EF5E82381B129C94DA726453464FB9376A703902A2078342B0EF57720FFD9";
    @Test
    public void contextLoads() {

        byte[] bytes = DatatypeConverter.parseHexBinary(bytestr);

        //type前八位 43 61 70 74 75 72 65 00
        byte[] type=new byte[8];
        System.arraycopy(bytes,0,type,0,type.length);

        log.info("type byte: {}",DatatypeConverter.printHexBinary(type));
        log.info("type string: {}",new String(type).trim());


        //4位 7E 01 00 00
        byte[] headLen=new byte[4];
        System.arraycopy(bytes,8,headLen,0,headLen.length);

        log.info("headLen byte: {}",DatatypeConverter.printHexBinary(headLen));
        int headLenInt=bytesToIntLittle(headLen,0);
        log.info("headLen string: {}",headLenInt);


        //4位 97 01 00 00
        byte[] seq=new byte[4];
        System.arraycopy(bytes,8+4,seq,0,seq.length);

        log.info("seq byte: {}",DatatypeConverter.printHexBinary(seq));
        log.info("seq string: {}",bytesToIntLittle(seq,0));

        //json
        byte[] json=new byte[headLenInt];
        System.arraycopy(bytes,8+4+4,json,0,json.length);
        log.info("json byte: {}",DatatypeConverter.printHexBinary(json));
        String jsonStr=new String(json).trim();
        log.info("json string: {}",jsonStr);
        JsonObject jsonObject = new JsonParser().parse(jsonStr).getAsJsonObject();
        int pic= jsonObject.get("captureFace").getAsInt();
        log.info("pic length: {}",pic);

        //pic
        byte[] picByte=new byte[pic];
        System.arraycopy(bytes,8+4+4+headLenInt,picByte,0,picByte.length);
        log.info("pic byte: {}",DatatypeConverter.printHexBinary(picByte));
        try (FileOutputStream stream = new FileOutputStream("/Users/xuanleung/Downloads/test.jpg")) {
            stream.write(picByte);
        }catch (Exception e){
            e.printStackTrace();
        }

    }

    /**
     * 以小端模式将byte[]转成int
     */
    public static int bytesToIntLittle(byte[] src, int offset) {
        int value;
        value = (int) ((src[offset] & 0xFF)
                | ((src[offset + 1] & 0xFF) << 8)
                | ((src[offset + 2] & 0xFF) << 16)
                | ((src[offset + 3] & 0xFF) << 24));
        return value;
    }

}
